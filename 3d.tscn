[gd_scene load_steps=13 format=3 uid="uid://cytabwmc88kj5"]

[ext_resource type="Texture2D" uid="uid://bi7mfgsho7qrq" path="res://particles/blob.png" id="1_cjs4q"]
[ext_resource type="Texture2D" uid="uid://cm6s6psinjqs1" path="res://portal/portal.svg" id="2_l7lao"]
[ext_resource type="CompressedTexture3D" uid="uid://bsyrkmgtf704u" path="res://3d.GPUParticlesCollisionSDF3D_data.exr" id="3_3scgy"]
[ext_resource type="PackedScene" uid="uid://dna0b10cybbc7" path="res://portal/portal.tscn" id="4_chmrq"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_inddg"]
emission_shape = 6
emission_ring_axis = Vector3(0, 0, 1)
emission_ring_height = 0.0
emission_ring_radius = 1.0
emission_ring_inner_radius = 0.0
radial_velocity_min = 0.5
radial_velocity_max = 0.5
gravity = Vector3(0, 0, 0)
collision_mode = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_58vqn"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
cull_mode = 2
albedo_texture = ExtResource("1_cjs4q")
emission_enabled = true
emission = Color(1, 1, 1, 1)
emission_energy_multiplier = 2.57

[sub_resource type="QuadMesh" id="QuadMesh_o3q4p"]
material = SubResource("StandardMaterial3D_58vqn")
size = Vector2(0.1, 0.1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fvjuo"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
shading_mode = 0
albedo_texture = ExtResource("2_l7lao")

[sub_resource type="QuadMesh" id="QuadMesh_7g8ln"]
material = SubResource("StandardMaterial3D_fvjuo")
size = Vector2(1.5, 3)

[sub_resource type="ViewportTexture" id="ViewportTexture_aciib"]
viewport_path = NodePath("SubViewport")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_f7wow"]
resource_local_to_scene = true
transparency = 1
cull_mode = 2
shading_mode = 0
albedo_texture = SubResource("ViewportTexture_aciib")

[sub_resource type="QuadMesh" id="QuadMesh_g0y5e"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_f7wow")
size = Vector2(1.5, 3)

[node name="Node3D" type="Node3D"]
transform = Transform3D(0.999932, 0, 0.011676, 0, 1, 0, -0.011676, 0, 0.999932, 0, 0, 0)

[node name="SubViewport" type="SubViewport" parent="."]
disable_3d = true
transparent_bg = true
handle_input_locally = false
gui_disable_input = true
size = Vector2i(128, 256)
size_2d_override = Vector2i(128, 256)
render_target_update_mode = 4

[node name="Portal" parent="SubViewport" instance=ExtResource("4_chmrq")]
position = Vector2(64, 256)

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(0.999998, 0, 9.31323e-09, 0, 1, 0, -9.31323e-09, 0, 0.999998, 0.0156801, 0.12941, 0.309623)
amount = 2000
lifetime = 2.85
collision_base_size = 0.24
process_material = SubResource("ParticleProcessMaterial_inddg")
draw_pass_1 = SubResource("QuadMesh_o3q4p")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 9.31323e-10, 0, 1, 0, -9.31323e-10, 0, 1, -0.000166364, 0, 0.0142474)
mesh = SubResource("QuadMesh_7g8ln")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -0.000166364, 0, 0.0142474)
mesh = SubResource("QuadMesh_7g8ln")

[node name="GPUParticlesCollisionSDF3D" type="GPUParticlesCollisionSDF3D" parent="."]
transform = Transform3D(1.00001, 0, 7.91624e-08, 0, 1, 0, -7.91624e-08, 0, 1.00001, 0, 0, 0)
size = Vector3(2, 2.93646, 2)
resolution = 3
thickness = 0.05
texture = ExtResource("3_3scgy")
metadata/_edit_lock_ = true

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
metadata/_edit_lock_ = true

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="CSGCombiner3D"]
transform = Transform3D(0.999864, 0.0116759, 0.0233437, -0.0116727, -4.36464e-08, 1.99986, 0.0116751, -0.999932, 0.000272491, 0, 0, 0)
radius = 0.707443
height = 0.5
sides = 50
smooth_faces = false

[node name="CSGCylinder3D2" type="CSGCylinder3D" parent="CSGCombiner3D"]
transform = Transform3D(1.10485, 0.0116759, 0.029063, -0.0128983, -4.36464e-08, 2.48983, 0.012901, -0.999932, 0.000339251, 0, 0, 0)
operation = 2
height = 0.5
sides = 50
smooth_faces = false

[node name="GPUParticlesCollisionBox3D" type="GPUParticlesCollisionBox3D" parent="."]
transform = Transform3D(1, 0, 7.45058e-09, 0, 1, 0, -7.45058e-09, 0, 1, 3.51425, 0, 0.0410352)

[node name="MeshInstance3D3" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, -9.31323e-10, 0, 1, 0, 9.31323e-10, 0, 1, -2.75232, 0, 0.130184)
visible = false
mesh = SubResource("QuadMesh_g0y5e")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 4.65661e-09, 0, 1, 0, -3.72529e-09, 0, 1, -3.22236, 0, 3.43919)
